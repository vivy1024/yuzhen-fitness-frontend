# 产品功能总览

**状态**: ✅ 已完成  
**版本**: v1.1.0  
**更新日期**: 2026-01-07

---

## 📋 产品简介

**玉珍健身** 是一款AI驱动的智能健身应用，基于DAML-RAG框架提供专业的健身指导服务。

### 核心定位

- 🤖 **AI健身教练**: 13种专业AI对话场景，个性化训练指导
- 💪 **专业动作库**: 1,790+健身动作，40个肌肉群分类
- 🍎 **营养指导**: 1,880+食物营养数据，智能饮食建议
- 📊 **进度追踪**: 体重/体脂趋势、训练日历、FFMI分析

### 技术特色

- **DAML-RAG框架**: 三层检索（向量→图谱→约束）确保专业准确
- **GraphRAG引擎**: Neo4j知识图谱（4,246节点，61,507关系）
- **MCP工具集成**: 18个专业健身工具，实时安全评估
- **流式响应**: 实时AI对话，训练计划即时生成

---

## 📁 项目目录结构

```
yuzhen_fitness/src/
├── api/                    # API接口层
│   ├── admin/              # 管理员API
│   │   └── feedback.ts     # 反馈管理API
│   ├── auth.ts             # 认证API
│   ├── email.ts            # 邮件API
│   ├── exercise.ts         # 动作库API
│   ├── feedback.ts         # 用户反馈API
│   ├── food.ts             # 食物库API
│   ├── help.ts             # 帮助中心API
│   ├── membership.ts       # 会员API
│   ├── notification.ts     # 通知API
│   ├── progress.ts         # 进度追踪API
│   ├── rating.ts           # 评分API
│   ├── settings.ts         # 设置API
│   ├── sms.ts              # 短信API
│   ├── topic.ts            # 话题API
│   ├── training-plan.ts    # 训练计划API
│   ├── training-session.ts # 训练会话API
│   ├── user.ts             # 用户API
│   └── warmup.ts           # 热身API
│
├── components/             # 组件层
│   ├── accessibility/      # 无障碍组件
│   ├── charts/             # 图表组件
│   ├── chat/               # 聊天组件
│   ├── exercise/           # 动作库组件
│   ├── food/               # 食物库组件
│   ├── layout/             # 布局组件
│   ├── membership/         # 会员组件
│   ├── progress/           # 进度组件
│   ├── theme/              # 主题组件
│   ├── training/           # 训练组件
│   ├── ui/                 # shadcn-vue基础组件
│   ├── user/               # 用户组件
│   └── user-profile/       # 用户档案组件
│
├── composables/            # 组合式函数
│   ├── useAccessibility.ts # 无障碍功能
│   ├── useChatStream.ts    # 聊天流式响应
│   ├── useLazyImage.ts     # 图片懒加载
│   └── useTheme.ts         # 主题切换
│
├── stores/                 # Pinia状态管理
│   ├── auth.ts             # 认证状态
│   ├── chat.ts             # 聊天状态
│   ├── exercise.ts         # 动作库状态
│   ├── feedback.ts         # 反馈状态
│   ├── food.ts             # 食物库状态
│   ├── membership.ts       # 会员状态
│   ├── notification.ts     # 通知状态
│   ├── progress.ts         # 进度状态
│   ├── streaming.ts        # 流式响应状态
│   ├── theme.ts            # 主题状态
│   ├── topic.ts            # 话题状态
│   ├── training.ts         # 训练状态
│   └── user.ts             # 用户状态
│
├── views/                  # 页面视图
│   ├── admin/              # 管理后台
│   ├── ai/                 # AI聊天
│   ├── auth/               # 认证页面
│   ├── exercise/           # 动作库
│   ├── feedback/           # 意见反馈
│   ├── food/               # 食物库
│   ├── help/               # 帮助中心
│   ├── legal/              # 法律条款
│   ├── me/                 # 个人中心
│   ├── membership/         # 会员中心
│   ├── notifications/      # 消息通知
│   ├── progress/           # 进度追踪
│   ├── settings/           # 设置
│   ├── training/           # 训练模块
│   └── user/               # 用户档案
│
├── utils/                  # 工具函数
│   ├── accessibility.ts    # 无障碍工具
│   ├── auth.ts             # 认证工具
│   ├── chat-history-db.ts  # 聊天历史IndexedDB
│   ├── ffmi-calculator.ts  # FFMI计算器
│   ├── imageOptimization.ts# 图片优化
│   ├── streaming-cache.ts  # 流式缓存
│   ├── token-manager.ts    # Token管理
│   └── trainingPlanParser.ts# 训练计划解析
│
└── workers/                # Web Workers
    └── sse-worker.ts       # SSE流式响应Worker
```

---

## 🎯 功能模块详解

### 1. AI健身助手 ✅

**路径**: `/ai/chat`  
**组件**: `views/ai/chat.vue`

AI助手是玉珍健身的核心功能，提供13种专业健身场景：

#### 训练计划类（4个）
| 场景 | 功能 | 会员要求 |
|------|------|----------|
| 完整训练计划 | 根据目标生成周计划 | 暖心会员 |
| 动作替换建议 | 找替代动作 | 暖心会员 |
| 训练量优化 | 调整组数/次数 | 暖心会员 |
| 负重建议 | 智能计算训练重量 | 暖心会员 |

#### 安全评估类（3个）
| 场景 | 功能 | 会员要求 |
|------|------|----------|
| 禁忌症检查 | 检查动作是否适合 | 暖心会员 |
| 损伤风险评估 | 评估训练风险 | 暖心会员 |
| 安全动作修改 | 提供安全替代方案 | 暖心会员 |

#### 营养指导类（3个）
| 场景 | 功能 | 会员要求 |
|------|------|----------|
| TDEE计算 | 计算每日热量需求 | 免费 |
| 营养摄入分析 | 分析饮食营养 | 暖心会员 |
| 膳食计划设计 | 制定饮食方案 | 暖心会员 |

#### 基础咨询类（3个）
| 场景 | 功能 | 会员要求 |
|------|------|----------|
| 问候寒暄 | 日常交流 | 免费 |
| 快速咨询 | 简单问题解答 | 免费 |
| 体态评估 | 体态问题分析 | 暖心会员 |

**核心组件**:
- `MessageItem.vue` - 消息展示
- `ToolCallTimeline.vue` - 工具调用时间线
- `DAGExecutionInfo.vue` - DAG执行信息
- `RatingDialog.vue` - 三轨评分对话框
- `TopicSidebar.vue` - 话题侧边栏

---

### 2. 动作库 ✅

**路径**: `/exercise`（列表）、`/exercise/:id`（详情）  
**组件**: `views/exercise/library.vue`、`views/exercise/detail.vue`

专业健身动作数据库，包含1,790+个动作：

#### 分类维度
- **肌肉群**: 40个（胸、背、腿、肩、手臂、核心等）
- **器械类型**: 17种（杠铃、哑铃、器械、自重、绳索等）
- **难度等级**: 4个（入门、初级、中级、高级）
- **动作模式**: 推、拉、蹲、铰链、携带、旋转

#### 动作详情包含
- 📸 高清图片演示（多角度）
- 📝 详细动作要领（中英文）
- ⚠️ 安全注意事项
- 🎯 目标肌群说明（主要/次要）
- 📊 推荐训练参数
- 🔄 替代动作推荐

**核心组件**:
- `ExerciseCard.vue` - 动作卡片
- `MuscleSelector.vue` - 肌肉群选择器
- `GenderSwitch.vue` - 性别切换（图片展示）

---

### 3. 食物库 ✅

**路径**: `/food`（列表）、`/food/:id`（详情）  
**组件**: `views/food/library.vue`、`views/food/detail.vue`

营养数据库，包含1,880+种食物：

#### 分类
- 蔬菜类（313种）
- 鱼虾蟹贝类（249种）
- 乳类（240种）
- 肉类（180种）
- 谷物类（150种）
- 水果类（120种）
- 其他（600+种）

#### 营养数据
- **基础营养素**: 热量、蛋白质、碳水、脂肪
- **维生素**: A、B族、C、D、E、K
- **矿物质**: 钙、铁、锌、镁、钾、钠
- **其他**: 膳食纤维、胆固醇、嘌呤

**核心组件**:
- `FoodCard.vue` - 食物卡片

---

### 4. 训练模块 ✅

**路径**: `/training`（首页）、`/training/plans`（计划列表）  
**组件**: `views/training/` 目录

#### 4.1 训练首页
**路径**: `/training`  
**功能**: 今日训练概览、快速开始

#### 4.2 训练计划
**路径**: `/training/plans`、`/training/plans/:id`  
**功能**: 
- 查看AI生成的训练计划
- 导入/导出训练计划
- 计划编辑和调整
- 按周/日查看

#### 4.3 训练会话
**路径**: `/training/session`  
**功能**:
- 开始训练（按计划执行）
- 记录每组重量、次数、RPE
- 训练时长统计
- 训练量计算

#### 4.4 训练历史
**路径**: `/training/history`  
**功能**: 历史训练记录查看

#### 4.5 训练统计
**路径**: `/training/stats`  
**功能**: 训练数据统计分析

**核心组件**:
- `TrainingPlanCard.vue` - 训练计划卡片
- `TrainingTemplate.vue` - 训练模板

---

### 5. 进度追踪 ✅

**路径**: `/training/progress`  
**组件**: `views/progress/dashboard.vue`

#### 功能
- 体重/体脂变化曲线
- FFMI（无脂肪体重指数）分析
- 训练量统计
- 训练日历视图

**核心组件**:
- `GoalProgress.vue` - 目标进度
- `TrainingCalendar.vue` - 训练日历
- `FFMIChart.vue` - FFMI图表
- `TimeSeriesChart.vue` - 时间序列图表

---

### 6. 会员中心 ✅

**路径**: `/membership`  
**组件**: `views/membership/center.vue`

#### 会员等级

| 等级 | 价格 | AI对话 | AI场景 | 状态 |
|------|------|--------|--------|------|
| 免费版 | ¥0 | 2次/天 | 2个 | ✅ 开放 |
| 暖心会员 | ¥6/月 | 3次/天 | 13个 | ✅ 首充福利 |
| 能量会员 | 待定 | 无限 | Agent模式 | 🚧 开发中 |

**核心组件**:
- `PricingPlans.vue` - 定价方案
- `PaymentFlow.vue` - 支付流程
- `BillingHistory.vue` - 账单历史

---

### 7. 用户档案 ✅

**路径**: `/user-profile`（查看）、`/user-profile/edit`（编辑）  
**组件**: `views/user/profile.vue`、`views/user/edit.vue`

#### 档案内容
- **基础信息**: 昵称、头像、性别、年龄
- **身体数据**: 身高、体重、体脂率
- **训练信息**: 训练目标、训练经验、每周训练天数
- **健康信息**: 伤病史、禁忌动作、体态问题
- **器械偏好**: 可用器械列表
- **力量数据**: 三大项成绩（深蹲、卧推、硬拉）

**核心组件**:
- `AvatarUpload.vue` - 头像上传
- `InfoRow.vue` - 信息行
- `StrengthDataForm.vue` - 力量数据表单

---

### 8. 个人中心 ✅

**路径**: `/me`  
**组件**: `views/me/index.vue`

#### 功能入口
- 用户档案
- 会员中心
- 设置
- 帮助中心
- 意见反馈
- 关于我们

---

### 9. 设置 ✅

**路径**: `/settings`（设置首页）、`/settings/about`（关于）  
**组件**: `views/settings/index.vue`、`views/settings/about.vue`

#### 功能
- 账号安全（修改密码、绑定手机/邮箱）
- 通知设置
- 主题切换（深色/浅色）
- 离线数据管理
- 清除缓存
- 注销账号

---

### 10. 帮助中心 ✅

**路径**: `/help`（列表）、`/help/:id`（详情）  
**组件**: `views/help/index.vue`、`views/help/detail.vue`

#### FAQ分类
- 账号相关（注册、登录、密码）
- 训练相关（计划、记录、动作）
- 会员相关（权益、购买、退款）
- 技术问题（性能、数据、兼容性）
- 数据相关（来源、隐私、导出）

---

### 11. 意见反馈 ✅

**路径**: `/feedback`  
**组件**: `views/feedback/index.vue`

#### 功能
- 提交反馈（支持截图，最多3张）
- 查看反馈历史
- 查看官方回复
- 反馈状态追踪

---

### 12. 消息通知 ✅

**路径**: `/notifications`  
**组件**: `views/notifications/index.vue`

#### 通知类型
- 系统公告
- 会员到期提醒
- 训练提醒
- 反馈回复通知

---

### 13. 认证模块 ✅

**路径**: `/auth/login`、`/auth/register`、`/auth/forgot-password`  
**组件**: `views/auth/` 目录

#### 功能
- 登录（手机号/邮箱 + 密码）
- 注册（手机号/邮箱验证）
- 忘记密码（验证码重置）

---

### 14. 法律条款 ✅

**路径**: `/legal/terms`  
**组件**: `views/legal/terms.vue`

#### 功能
- 用户协议展示
- 首次使用必须同意

---

### 15. 管理后台 ✅

**路径**: `/admin`（需要管理员权限）  
**组件**: `views/admin/` 目录

#### 15.1 管理首页
**路径**: `/admin`  
**功能**: 数据概览、快捷入口

#### 15.2 订单管理
**路径**: `/admin/orders`  
**功能**: 待审核订单、订单审核、订单统计

#### 15.3 AI监控
**路径**: `/admin/ai-monitor`  
**功��**: AI对话监控、性能指标

#### 15.4 专家评审
**路径**: `/admin/expert-review`  
**功能**: 三轨评分审核

#### 15.5 用户管理
**路径**: `/admin/users`  
**功能**: 用户列表、用户详情、角色管理

#### 15.6 反馈管理
**路径**: `/admin/feedback`  
**功能**: 反馈列表、反馈回复、状态更新

#### 15.7 监控Dashboard
**路径**: `/admin/dashboards/`
- `performance` - 性能监控
- `streaming` - 流式响应监控
- `workflow` - 工作流监控
- `logs` - 日志查看

---

## 📊 数据统计

### 核心数据
| 数据类型 | 数量 | 说明 |
|----------|------|------|
| 健身动作 | 1,790+ | 34字段完整 |
| 肌肉群 | 40 | 100%训练数据完整 |
| 食物数据 | 1,880+ | 35个营养字段 |
| AI场景 | 13 | 覆盖主要健身需求 |
| MCP工具 | 18 | 专业健身工具 |
| DAG模板 | 13 | 工作流编排 |

### 技术指标
| 指标 | 数值 | 说明 |
|------|------|------|
| Neo4j节点 | 4,246 | 知识图谱 |
| Neo4j关系 | 61,507 | 实体关联 |
| Qdrant向量 | 3,684 | 1024维GTE-Large-zh |
| 综合评分 | 92.5/100 | 卓越级 |

---

## 🔗 相关文档

- [技术架构概述](../01-系统架构/00-技术架构概述.md)
- [系统架构总览](../01-系统架构/01-系统架构总览.md)
- [品牌故事](../../08-产品文档/01-品牌故事.md)
- [产品介绍](../../08-产品文档/02-产品介绍.md)

---

**维护者**: 薛小川  
**最后更新**: 2026-01-07
